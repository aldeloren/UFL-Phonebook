<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <title>University of Florida Phonebook - Functional Specification</title>
    <link rel="stylesheet" type="text/css" href="style.css" />
  </head>

  <body>
    <h1>University of Florida Phonebook</h1>
    <h2>Functional Specification</h2>

    <h3>About this Specification</h3>
    <p>(This specification is based loosely on the <a href="http://www.joelonsoftware.com/articles/AardvarkSpec.html">Project Aardvark specification</a> from Joel Spolsky.)</p>
    <p>This specification is simply a starting point for the design of the University of Florida (UF) Phonebook, not a final blueprint. As the project progresses, we'll discover a lot of things that won't work exactly as planned. We'll invent new features, change things, etc. We'll try to keep the spec up to date as things change.</p>

    <h3>Overview</h3>
    <p>Throughout this document, &quot;Phonebook&quot; refers to the Web site, while &quot;Directory&quot; refers to the backend database which the Phonebook uses.</p>
    <p>The <a href="http://phonebook.ufl.edu/">current UF Phonebook</a> is maintained by <a href="http://www.circa.ufl.edu/">CIRCA</a>. However, the lead developer retired and thus the application has not been updated for a few years. Searching for people is sometimes difficult, for example, when you don't know exactly how to spell a person's name. Searching for departments is not possible, even though this information is available in the <a href="http://www.bridges.ufl.edu/directory/">UF Directory</a>.</p>
    <p>Additionally, the site uses an old version of the UF Web site template, which does not follow aesthetic and accessibility standards implemented on campus-wide services by <a href="http://www.webadmin.ufl.edu/">Web Administration</a>.</p>
    <p>Here's a brief overview of the Phonebook:</p>
    <ol type="1">
      <li>The user visits the Phonebook Web site to find a student, faculty, or staff member.</li>
      <li>The user enters some identifying information about this person.</li>
      <li>The application provides one or more results to the user.</li>
    </ol>

    <h3>Major Features</h3>
    <p>For the next version of the Phonebook, we plan on the following:</p>
    <ul>
      <li>Make it easier to find people:
        <ul>
          <li>No mention of wildcards. Where possible, substring searches are performed by default.</li>
          <li>Results displayed in a clean layout, with most commonly used details immediately available.</li>
        </ul>
      </li>
      <li>When no results are found, suggestions on how to proceed are provided.</li>
      <li>Easy to find departments and other units on campus.</li>
    </ul>

    <h3>Design Goals</h3>
    <p>All design and engineering decisions will be made with the following principle in mind:</p>
    <blockquote>
      <p>Simple is better than complicated.</p>
    </blockquote>
    <p>We will always try to eliminate choices that the user must make. No jargon relating to the implementation of the Directory will be part of the user experience.</p>

    <h3>About the Rollout</h3>
    <p>Our primary goal is to have a mostly functional version of the Phonebook in two weeks. That means that the initial version will be suboptimal in many ways and will not contain every feature. Throughout this specification, the notation (v2) will be used to indicate features which will not be a part of the initial rollout but added later.</p>

    <h3>Future Features</h3>
    <ul>
      <li>(v2) &quot;Internal phonebook&quot;, requiring GatorLink authentication and returning results using the user's credentials.</li>
      <li>(v2) Spelling suggestions.</li>
      <li>(v2) Google Suggest-style completions for phonebook queries. When the user types a few characters, display ten or so results from the Directory that might match.</li>
      <li>(v2) vCard download.</li>
      <li>(v2) An advanced search page, allowing users to give values for specific Directory fields.</li>
      <li>(v2) Isolate strings for easy localization (for e.g. a Spanish version of the site). The utility of this feature is debatable, however, considering most Directory information is in English.</li>
    </ul>

    <h3>Software Architecture</h3>
    <p>The Web application will be written in Perl using the <a href="http://catalyst.perl.org/">Catalyst</a> framework. Catalyst provides easy deployment regardless of server evironment, though mod_perl is preferable for speed.</p>
    <p>Web pages will be written using the <a href="http://search.cpan.org/dist/Template-Toolkit/">Template Toolkit</a>. CSS will be used for formatting and positioning, following the standards put in place by Web Administration.</p>

    <h4>Directory Interface</h4>
    <p>To interface with the Directory, we will use <a href="http://open-systems.ufl.edu/">Open System</a>'s <a href="http://open-systems.ufl.edu/services/LDAP/index.html">LDAP service</a>. This server is accessible via hostname <code>ldap.ufl.edu</code>.</p>

    <h3>Searching the Directory</h3>

    <h4>Searching for People</h4>
    <p>Search base: <code>ou=People,dc=ufl,dc=edu</code></p>
    <p>People inherit attributes from a number of <code>objectClass</code>es:</p>
    <ol type="1">
      <li>
        <code>person</code> (defined in OpenLDAP's <code>core.schema</code>)
        <blockquote>
          <pre>objectclass ( 2.5.6.6 NAME 'person'
        DESC 'RFC2256: a person'
        SUP top STRUCTURAL
        MUST ( sn $ cn )
        MAY ( userPassword $ telephoneNumber $ seeAlso $ description ) )</pre>
        </blockquote>
      </li>
      <li>
        <code>organizationalPerson</code> (defined in OpenLDAP's <code>core.schema</code>)
        <blockquote>
          <pre>objectclass ( 2.5.6.7 NAME 'organizationalPerson'
        DESC 'RFC2256: an organizational person'
        SUP person STRUCTURAL
        MAY ( title $ x121Address $ registeredAddress $ destinationIndicator $
                preferredDeliveryMethod $ telexNumber $ teletexTerminalIdentifier $
                telephoneNumber $ internationaliSDNNumber $
                facsimileTelephoneNumber $ street $ postOfficeBox $ postalCode $
                postalAddress $ physicalDeliveryOfficeName $ ou $ st $ l ) )</pre>
        </blockquote>
      </li>
      <li>
        <code>inetOrgPerson</code> (defined in OpenLDAP's <code>core.schema</code>)
        <blockquote>
          <pre>objectclass     ( 2.16.840.1.113730.3.2.2
    NAME 'inetOrgPerson'
        DESC 'RFC2798: Internet Organizational Person'
    SUP organizationalPerson
    STRUCTURAL
        MAY (
                audio $ businessCategory $ carLicense $ departmentNumber $
                displayName $ employeeNumber $ employeeType $ givenName $
                homePhone $ homePostalAddress $ initials $ jpegPhoto $
                labeledURI $ mail $ manager $ mobile $ o $ pager $
                photo $ roomNumber $ secretary $ uid $ userCertificate $
                x500uniqueIdentifier $ preferredLanguage $
                userSMIMECertificate $ userPKCS12 )
        )</pre>
        </blockquote>
      </li>
      <li>
        <code>eduPerson</code> (defined in the <a href="http://www.educause.edu/eduperson/">eduPerson schema</a>)
        <blockquote>
          <pre>( 1.3.6.1.4.1.5923.1.1.2
        NAME 'eduPerson'
        AUXILIARY
        MAY ( eduPersonAffiliation $ eduPersonNickname $
                    eduPersonOrgDN $ eduPersonOrgUnitDN $
                    eduPersonPrimaryAffiliation $ eduPersonPrincipalName $
                    eduPersonEntitlement $ eduPersonPrimaryOrgUnitDN $
                    eduPersonScopedAffiliation
)</pre>
        </blockquote>
      </li>
      <li>
        <code>uflEduPerson</code> (defined in the <a href="http://open-systems.ufl.edu/services/LDAP/schema.html">UF LDAP schema</a>)
        <blockquote>
          <pre>objectclass     ( 1.3.6.1.4.1.993.3.2.1
        NAME 'uflEduPerson'
        DESC 'Defines entries that generically represent people.'
        SUP 'eduPerson'  STRUCTURAL
        MUST (universityId  )
        MAY (
              uuid $
              uflEduGender $
              uflEduBirthDate $
              homePageURL $
              officeBuilding $
              officeLocation $
              other $
              photoURL $
              privacy $
              uflEduAllPhones $
                uflEduAllEmailAddresses $
                uflEduAllNames $
                uflEduAllPostalAddresses
                ) )</pre>
        </blockquote>
      </li>
    </ol>
    <p>However, a person in LDAP typically looks something like the following:</p>
    <blockquote>
      <pre># 81036590, People, ufl.edu
dn: uflEduUniversityId=81036590,ou=People,dc=ufl,dc=edu
objectClass: top
objectClass: person
objectClass: organizationalPerson
objectClass: inetOrgPerson
objectClass: eduPerson
objectClass: uflEduPerson
objectClass: posixAccount
ou: People
displayName: ROCKWELL,ALEXANDER H
cn: ROCKWELL,ALEXANDER H
sn: ROCKWELL
uid: alexhr
uidNumber: 81036590
gidNumber: 99999
homeDirectory: /h/alexhr
loginShell: /usr/local/bin/glshell
gecos: ROCKWELL,ALEXANDER H
uflEduPrivacy: NO
givenName: ALEXANDER
eduPersonPrimaryAffiliation: employee
eduPersonOrgDN: uflEduUniversityId=OD447T27,ou=Organizations,dc=ufl,dc=edu
departmentNumber: OD447T27
o: IT-CNS-SA DATABASE
title: STUDENT ASST
uflEduUniversityId: 81036590
preferredLanguage: --UNKNOWN--
homePhone: +1 352 3329567
telephoneNumber: +1 352 8461906
uflEduOfficeLocation: PO BOX 117700$GAINESVILLE, FL, US$ 32611
mail: alexhr@ufl.edu
uflEduAllPhones: UF Business Telephone Number +1 352 8461906
uflEduAllPhones: Local Home Telephone Number +1 352 3329567
uflEduAllPhones: Permanent Home Telephone Number +1 352 3329567
uflEduAllPostalAddresses: UF Business Physical Location Address$PO BOX 117700$GAINESVILLE, FL, US$ 32611
uflEduAllPostalAddresses: Local Home Mailing Address$313 SW 86TH TER$GAINESVILLE, FL, US$ 326071460
uflEduAllPostalAddresses: Permanent Home Mailing Address$313 SW 86TH TER$GAINESVILLE, FL, US$ 326071460
uflEduAllEmailAddresses: "ROCKWELL,ALEXANDER H(UF Business Email Address)" &lt;alexhr@ufl.edu&gt;
uflEduAllNames: UF Business Name:Rockwell,Alexander H
uflEduAllNames: UF Business Name Uppercase:ROCKWELL,ALEXANDER H
uflEduAllNames: Given Name (First):ALEXANDER
uflEduAllNames: Directory Name:Rockwell, Alex
uflEduAllNames: Display Name:ROCKWELL,ALEXANDER H
uflEduAllNames: Middle Name:H
uflEduAllNames: Salutation:MR.
uflEduAllNames: Surname (Last):ROCKWELL</pre>
    </blockquote>
    <p>Likely inputs:</p>
    <ol type="1">
      <li>[Last name] - search <code>sn</code>, <code>cn</code>, and <code>mail</code> fields</li>
      <li>[First name] [Last name] - search <code>cn</code> field</li>
      <li>[Email] - search <code>mail</code> field</li>
      <li>[Partial email] - search <code>mail</code> field</li>
      <li>[Phone] - search <code>homePhone</code> and <code>telephoneNumber</code> fields</li>
      <li>[Title] - search <code>title</code> field</li>
    </ol>

    <h4>Searching for Units</h4>
    <p>Search base: <code>ou=Organizations,dc=ufl,dc=edu</code></p>
    <p>Units inherit attributes from two <code>objectClass</code>es:</p>
    <ol type="1">
      <li>
        <code>organization</code> (defined in OpenLDAP's <code>core.schema</code>)
        <blockquote>
          <pre>objectclass ( 2.5.6.4 NAME 'organization'
        DESC 'RFC2256: an organization'
        SUP top STRUCTURAL
        MUST o
        MAY ( userPassword $ searchGuide $ seeAlso $ businessCategory $
                x121Address $ registeredAddress $ destinationIndicator $
                preferredDeliveryMethod $ telexNumber $ teletexTerminalIdentifier $
                telephoneNumber $ internationaliSDNNumber $
                facsimileTelephoneNumber $ street $ postOfficeBox $ postalCode $
                postalAddress $ physicalDeliveryOfficeName $ st $ l $ description ) )</pre>
        </blockquote>
      </li>
      <li>
        <code>uflEduOrganization</code> (defined in the <a href="http://open-systems.ufl.edu/services/LDAP/schema.html">UF LDAP schema</a>)
        <blockquote>
          <pre>objectclass     ( 1.3.6.1.4.1.993.3.2.5
        NAME 'uflEduOrganization'
        DESC 'A group of people..'
        SUP 'organization'  STRUCTURAL
        MUST ( universityId )
        MAY (
                ou $
                uuid $
                displayName $
                mail $
                labeledURI $
                uflEduAllPhones $
                uflEduAllEmailAddresses $
                uflEduAllNames $
                uflEduAllPostalAddresses
                ) )</pre>
        </blockquote>
      </li>
    </ol>
    <p>However, a unit in LDAP typically looks something like the following:</p>
    <blockquote>
      <pre># UETHHG63, Organizations, ufl.edu
dn: uflEduUniversityId=UETHHG63,ou=Organizations,dc=ufl,dc=edu
objectClass: top
objectClass: organization
objectClass: uflEduOrganization
ou: Organizations
o: PV-OAA APPLICATION DEVELOP
uflEduUniversityId: UETHHG63</pre>
    </blockquote>
    <p>Likely inputs:</p>
    <ul>
      <li>[Name] - search <code>o</code> and <code>displayName</code> fields</li>
      <li>[Phone] - search <code>telephoneNumber</code> field</li>
      <li>[Address] - search <code>street</code> field initially; may need to use Post Office normalization rules to make more useful (v2)</li>
    </ul>

    <h3>Navigation</h3>
    <p>There are two primary functions of the proposed Phonebook:</p>
    <ol type="1">
      <li>Searching for people</li>
      <li>Searching for units</li>
    </ol>
    <p>It should be easy for the user to switch between these functions, without losing his or her search query.</p>
    <p>Additionally, there should be an easy way to &quot;port&quot; a search query to the UF Web search engine.</p>

    <h3>Planned Pages</h3>

    <h4>The Home Page</h4>
    <p>The home page is the same as the people search page.</p>

    <h4>The People Search Page</h4>
    <p>The people search page displays a simple form and very brief instructions.</p>
    <blockquote>
      <p>________________________________________ Search</p>
      <p>Enter a name, phone number, email address, or GatorLink ID to find people.</p>
    </blockquote>
    <p>If the searching algorithms work well enough, we should not need to provide any more information than that.</p>

    <h4>The People Results Page</h4>
    <p>The people results page repeats the search form, with the user's query filled out.</p>
    <blockquote>
      <p>_[User's Query]___________________________ Search</p>
    </blockquote>
    <p>If results matching the user's query were found, display them as a list:</p>
    <blockquote>
      <p>Your search for [User's Query] returned the following N people:</p>
      <table>
        <thead>
          <tr>
            <th>Name</th>
            <th>Title</th>
            <th>Phone</th>
            <th>Email</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>[Name]</td>
            <td>[Title], [Unit]</td>
            <td>[Phone]</td>
            <td>[Email]</td>
          </tr>
          <tr>
            <td>[Name]</td>
            <td>[Title], [Unit]</td>
            <td>[Phone]</td>
            <td>[Email]</td>
          </tr>
          <tr>
            <td>&hellip;</td>
            <td>&hellip;</td>
            <td>&hellip;</td>
            <td>&hellip;</td>
          </tr>
        </tbody>
      </table>
    </blockquote>
    <p>If more than, say, 100 results are returned, we will display the first 100:</p>
    <blockquote>
      <p>Your search for [User's Query] returned more than 100 results. The first 100 are displayed below.</p>
    </blockquote>
    <p>If no results were found, display some suggestions:</p>
    <blockquote>
      <p>Your search - [User's Query] - did not match any members of the University of Florida community.</p>
      <p>Suggestions:</p>
      <ul>
        <li>Make sure all terms are spelled correctly.</li>
        <li>Try searching on a part of the person's name; for example, just the last name.</li>
      </ul>
    </blockquote>
    <p>Ideally, we will be able to provide more helpful suggestions using soundex or similar algorithms for classifying names. This will require further investigation, since the Directory does not currently provide soundex data - perhaps we can reverse soundex and suggest five names matching a list of known names.</p>

    <h4>The Person Details Page</h4>
    <p>Where available, we will display the following information. Given the current state of the Directory information, much of these details may not available for a given person.</p>
    <blockquote>
      <h3>[Name]</h3>
      <h4>General Information</h4>
      <dl>
        <dt>Affiliation</dt>
        <dd>[Affiliation]</dd>
        <dt>Email</dt>
        <dd>[Email]</dd>
        <dt>Web site</dt>
        <dd>[URL]</dd>
      </dl>
      <h4>Phone Numbers</h4>
      <dl>
        <dt>Campus</dt>
        <dd>[Campus phone]</dd>
        <dt>Home</dt>
        <dd>[Home phone]</dd>
        <dt>Mobile</dt>
        <dd>[Mobile phone]</dd>
      </dl>
      <h4>Addresses</h4>
      <dl>
        <dt>Campus</dt>
        <dd>[Campus address]</dd>
        <dt>Home</dt>
        <dd>[Home address]</dd>
      </dl>
    </blockquote>
    <p>Then, depending on the primary affiliation, we can display a block titled e.g. <strong>Student Information</strong> or <strong>Employee Information</strong>.</p>
    <blockquote>
      <h4>Student Information</h4>
      <dl>
        <dt>College</dt>
        <dd>[College]</dd>
        <dt>Title</dt>
        <dd>[Title]</dd>
      </dl>
    </blockquote>
    <blockquote>
      <h4>Employee Information</h4>
      <dl>
        <dt>Department</dt>
        <dd>[Department]</dd>
        <dt>Title</dt>
        <dd>[Title]</dd>
      </dl>
    </blockquote>

    <h4>The Unit Search Page</h4>
    <p>The unit search page displays a simple form and very brief instructions.</p>
    <blockquote>
      <p>________________________________________ Search</p>
      <p>Enter a keyword or name to find departments and units.</p>
    </blockquote>

    <h4>The Unit Results Page</h4>
    <p>The unit results page repeats the search form, with the user's query filled out.</p>
    <blockquote>
      <p>_[User's Query]___________________________ Search</p>
    </blockquote>
    <p>If results matching the user's query were found, display them as a list:</p>
    <blockquote>
      <p>Your search for [User's Query] returned the following N units:</p>
      <table>
        <thead>
          <tr>
            <th>Name</th>
            <th>Phone</th>
            <th>Email</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>[Name]</td>
            <td>[Phone]</td>
            <td>[Email]</td>
          </tr>
          <tr>
            <td>[Name]</td>
            <td>[Phone]</td>
            <td>[Email]</td>
          </tr>
          <tr>
            <td>&hellip;</td>
            <td>&hellip;</td>
            <td>&hellip;</td>
          </tr>
        </tbody>
      </table>
    </blockquote>
    <p>If more than, say, 100 results are returned, we will display the first 100:</p>
    <blockquote>
      <p>Your search for [User's Query] returned more than 100 results. The first 100 are displayed below.</p>
    </blockquote>
    <p>If no results were found, display some suggestions:</p>
    <blockquote>
      <p>Your search - [User's Query] - did not match units at the University of Florida.</p>
      <p>Suggestions:</p>
      <ul>
        <li>Make sure all terms are spelled correctly.</li>
        <li>Try searching on a part of the unit's name.</li>
        <li>Browse the <a href="http://www.ufl.edu/websites/">Web site listing</a>.</li>
      </ul>
    </blockquote>

    <h4>The Unit Details Page</h4>
    <p>The unit details page will most likely be very sparse, because the Directory data is very lacking in organizational data. TODO: This needs to be planned in more detail.</p>
    <blockquote>
      <h3>[Name]</h3>
      <h4>General Information</h4>
      <h4>Phone Numbers</h4>
      <h4>Addresses</h4>
      <h4>Other Information</h4>
    </blockquote>

    <hr>
<!-- Created: Thu Sep  1 14:07:18 EDT 2005 -->
<!-- hhmts start -->
Last modified: Sat Sep 10 21:13:00 EDT 2005
<!-- hhmts end -->
  </body>
</html>
